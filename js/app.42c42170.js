(function(e){function t(t){for(var r,i,s=t[0],l=t[1],u=t[2],c=0,h=[];c<s.length;c++)i=s[c],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&h.push(n[i][0]),n[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);d&&d(t);while(h.length)h.shift()();return o.push.apply(o,u||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,s=1;s<a.length;s++){var l=a[s];0!==n[l]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},n={app:0},o=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var d=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0eb6":function(e,t,a){},"394f":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("lay-out")],1)},o=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"contain"},[a("el-aside",{staticClass:"left-column"},[a("side-bar",{attrs:{"sample-queries":e.sampleQueries}})],1),a("el-main",{staticClass:"right-column"},[a("head-searcher",{attrs:{"sample-queries":e.sampleQueries}}),a("div",{staticClass:"result-container"},[a("results-table",{attrs:{"table-data":e.tableData},on:{getMessage:e.getMessage}})],1),a("div",{staticClass:"candidate-answers-container"},[a("candidate-answers",{attrs:{"candidate-answers":e.candidateAnswers,options:e.options,round:e.round,"round-show":e.roundShow,"max-round":e.maxRound},on:{changeRound:e.changeRound}})],1),a("query-graph",{attrs:{"graph-data":e.graphData}}),a("control-buttons")],1)],1)},s=[],l=(a("b64b"),a("d3b7"),a("159b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"side-bar"}},[a("el-table",{attrs:{stripe:"",data:e.sampleQueries,height:e.autoHeight.height}},[a("el-table-column",{attrs:{prop:"query",label:"sample queries",align:"center","show-overflow-tooltip":!0}})],1)],1)}),u=[],d={name:"SideBar",props:{sampleQueries:{type:Array,default:function(){return[]}}},data:function(){return{windowHeight:0,autoHeight:{height:""}}},created:function(){window.addEventListener("resize",this.getHeight),this.getHeight()},destroyed:function(){window.removeEventListener("resize",this.getHeight)},methods:{getHeight:function(){this.windowHeight=window.innerHeight,this.autoHeight.height=this.windowHeight-40+"px"}}},c=d,h=a("2877"),p=Object(h["a"])(c,l,u,!1,null,null,null),f=p.exports,m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header-search",class:{show:e.show}},[a("el-select",{ref:"headerSearchSelect",staticClass:"header-search-select",attrs:{"remote-method":e.querySearch,filterable:"",remote:"",placeholder:"Search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}},e._l(e.options,(function(e){var t=e.item;return a("el-option",{key:t.query,attrs:{value:t.query,label:t.query}})})),1),a("el-button",{staticClass:"search-icon",attrs:{type:"primary"}},[e._v("submit query")])],1)},b=[],g=(a("ac1f"),a("841c"),a("6062")),y={name:"HeaderSearch",props:{sampleQueries:{type:Array,default:function(){return[]}}},data:function(){return{search:"",options:[],searchPool:[],show:!0,fuse:void 0}},mounted:function(){this.searchPool=this.sampleQueries,this.fuse=new g["a"](this.searchPool,{shouldSort:!0,threshold:.4,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:["query"]})},methods:{querySearch:function(e){this.options=""!==e?this.fuse.search(e):[]}}},v=y,w=(a("c184"),Object(h["a"])(v,m,b,!1,null,"44ef8a98",null)),q=w.exports,x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticStyle:{width:"calc(100% - 40px)",margin:"20px"},attrs:{data:e.tableData,"empty-text":"Please choose a query",border:""}},[a("el-table-column",{attrs:{prop:"round",label:"round",width:"100"}}),a("el-table-column",{attrs:{prop:"result",label:"result",width:"100"}}),a("el-table-column",{attrs:{prop:"error",label:"error",width:"100"}}),a("el-table-column",{attrs:{prop:"confidence interval",label:"confidence interval"}}),a("el-table-column",{attrs:{prop:"confidence level-fixed",label:"confidence level-fixed"}}),a("el-table-column",{attrs:{prop:"runtime of this round",label:"runtime of this round"}})],1),a("el-button",{staticClass:"button-style",attrs:{type:"primary",disabled:e.disabled},on:{click:e.proceed}},[e._v("continue")])],1)},A=[],D={name:"ResultsTable",props:{tableData:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:function(){return!1}}},methods:{proceed:function(){this.$emit("getMessage")}}},C=D,S=(a("b74b"),Object(h["a"])(C,x,A,!1,null,"1bbcae7a",null)),_=S.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-container",[a("el-main",{staticStyle:{padding:"0","text-align":"center",height:"30vh"}},[a("el-select",{attrs:{placeholder:"please choose round"},on:{change:e.changeRound},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("el-table",{attrs:{data:e.candidateAnswers[e.roundShow-1]}},[a("el-table-column",{attrs:{align:"center",prop:"sampleName",label:"sample name"}})],1)],1)],1),a("el-button",{staticClass:"button-show-more",attrs:{type:"primary"},on:{click:e.changeStatus}},[e._v("show more")])],1)},k=[],O=(a("a9e3"),{name:"CandidateAnswers",props:{options:{type:Array,default:function(){return[]}},candidateAnswers:{type:Array,default:function(){return[]}},roundShow:{type:Number,default:1},threshold:{type:Number,default:5},round:{type:Number,default:0},maxRound:{type:Number,default:0}},data:function(){return{showMore:!1,value:""}},methods:{changeStatus:function(){this.showMore=!0},changeRound:function(e){this.$emit("changeRound",e)}}}),H=O,M=(a("9c88"),Object(h["a"])(H,j,k,!1,null,"9f6c85a6",null)),E=M.exports,P=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},R=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"network",staticStyle:{width:"100%",height:"60vh",border:"1px solid #ccc"},attrs:{id:"query-graph"}})])}],z=a("5530"),G=(a("b0c0"),a("4f27")),$=a.n(G),N={name:"QueryGraph",props:{graphData:{type:Array,default:function(){return[]}}},data:function(){return{dialogVisible:!1,nodes:[],edges:[],container:null,nodesArray:[],edgesArray:[],options:{},data:{},sampleMapId:{},idCount:1}},watch:{graphData:function(e){var t=this;this.nodesArray=[],this.edgesArray=[],this.sampleMapId={},this.idCount=1,e.forEach((function(e){for(var a=e.path,r=1,n=0;n<a.length;n++){var o=a[n];void 0===t.sampleMapId[o]&&r%2===1&&(t.sampleMapId[o]=t.idCount,t.nodesArray.push({id:t.idCount,name:o}),t.idCount++),r++}r=1;for(var i=0;i<a.length;i++)r%2===0&&function(){var e=t.sampleMapId[a[i-1]],r=t.sampleMapId[a[i+1]];if(0===t.edgesArray.length)t.edgesArray.push({from:r,to:e,label:a[i]});else{for(var n=!0,o=0;o<t.edgesArray.length;o++)if(e===t.edgesArray[o].to&&r===t.edgesArray[o].from){n=!1;break}n&&(t.edgesArray.push({from:r,to:e,label:a[i]}),i===a.length-2&&t.nodesArray.forEach((function(e){e.id===r&&(e.group="startPoint")})))}}(),r++})),this.reinitialize()}},mounted:function(){this.reinitialize()},methods:{reinitialize:function(){this.init(),this.network.moveTo({scale:.85});var e={nodes:this.nodesArray,edges:this.edgesArray};this.addNetworkParams(e)},init:function(){this.nodes=new $.a.DataSet([]),this.edges=new $.a.DataSet([]),this.container=document.getElementById("query-graph"),this.data={nodes:this.nodes,edges:this.edges},this.options={autoResize:!0,nodes:{shape:"ellipse",size:18,shadow:!1,font:{size:12,color:"black",align:"center"},color:{border:"transparent",background:"#eee",highlight:{border:"rgb(117, 218, 167)",background:"rgb(117, 218, 167)"},hover:{border:"#dff9fb",background:"#88dab1"}},margin:5,widthConstraint:100,borderWidth:1,borderWidthSelected:3},edges:{width:1,length:100,color:{color:"#848499",highlight:"rgb(117, 218, 167)",hover:"#88dab1",inherit:"from",opacity:1},font:{color:"#343434",size:12,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{color:"#343434",size:12,face:"arial",vadjust:0,mod:"bold"},ital:{color:"#343434",size:12,face:"arial",vadjust:0,mod:"italic"},boldital:{color:"#343434",size:12,face:"arial",vadjust:0,mod:"bold italic"},mono:{color:"#343434",size:12,face:"courier new",vadjust:2,mod:""}},shadow:!1,smooth:{enabled:!0},arrows:{to:!0}},physics:{enabled:!0,barnesHut:{gravitationalConstant:-4e3,centralGravity:.3,springLength:120,springConstant:.04,damping:.09,avoidOverlap:0}},interaction:{dragNodes:!0,dragView:!0,hover:!0,multiselect:!0,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,hideEdgesOnDrag:!1,zoomView:!0}},this.network=new $.a.Network(this.container,this.data,this.options)},addNetworkParams:function(e){for(var t=0;t<e.nodes.length;t++){var a=e.nodes[t];this.nodes.add(Object(z["a"])({label:a.name},a))}for(var r=0;r<e.edges.length;r++){var n=e.edges[r];this.edges.add(Object(z["a"])({},n))}}}},B=N,Q=Object(h["a"])(B,P,R,!1,null,"0158e520",null),T=Q.exports,W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},I=[],L={name:"ControlButtons"},V=L,J=Object(h["a"])(V,W,I,!1,null,"0d6f165e",null),F=J.exports,K=[{query:"How many cars are produced in Germany?"},{query:"What’s the average price of cars that are produced in Germany?"},{query:"What’s the average price of cars produced in Germany with a fuel economy between 25MPG and 30MPG?"},{query:"How many football clubs are there in each country?"},{query:"How many languages are spoken in Nigeria?"},{query:"What’s the total box office of the movies that were directed by Steven Spielberg?"},{query:"How many museums are there in England?"},{query:"What’s the average population of China’s cities?"},{query:"How many soccer players were born in Spain and played for Barcelona FC?"},{query:"How many cars are designed by German designers?"}],U=K,X=a("bc3a"),Y=a.n(X),Z=a("5c96"),ee=a.n(Z),te={name:"LayOut",components:{SideBar:f,HeadSearcher:q,ResultsTable:_,CandidateAnswers:E,QueryGraph:T,ControlButtons:F},data:function(){return{sampleQueries:U,candidateAnswers:[],queryData:{},graphData:[],tableData:[],round:1,roundShow:1,maxRound:0,options:[]}},mounted:function(){var e=this;Y.a.get("./data/sampleData.json").then((function(t){t=t.data,e.queryData=t,e.maxRound=Object.keys(e.queryData).length,e.initTableData(),e.initGraphData(),e.initCandidateAnswers()}))},methods:{getMessage:function(){this.round+1>this.maxRound?Z["Message"].error("Reaches the maximum number of iterations"):(this.round++,this.initTableData(),this.initGraphData())},initTableData:function(){var e={};e["round"]=this.round,e["confidence interval"]=this.queryData[this.round]["confidence interval"],e["confidence level-fixed"]=this.queryData[this.round]["confidence level-fixed"],e["error"]=this.queryData[this.round]["error"],e["result"]=this.queryData[this.round]["result"],e["runtime of this round"]=this.queryData[this.round]["runtime of this round"],this.tableData=[],this.tableData.push(e),this.graphData=this.queryData[this.round]},initGraphData:function(){this.graphData=this.queryData[this.round]["queryPath"]},initCandidateAnswers:function(){var e=this;this.candidateAnswers=[];for(var t=function(t){e.options.push({label:"round "+t,value:t});var a=[];e.queryData[t]["queryPath"].forEach((function(e){a.push({sampleName:e.path[0]})})),e.candidateAnswers.push(a)},a=1;a<=this.maxRound;a++)t(a)},changeRound:function(e){this.roundShow=e}}},ae=te,re=(a("867a"),Object(h["a"])(ae,i,s,!1,null,"30843956",null)),ne=re.exports,oe={name:"App",components:{LayOut:ne}},ie=oe,se=Object(h["a"])(ie,n,o,!1,null,null,null),le=se.exports;a("f5df1"),a("0fae"),a("b20f");r["default"].config.productionTip=!1,r["default"].use(ee.a),new r["default"]({render:function(e){return e(le)}}).$mount("#app")},"867a":function(e,t,a){"use strict";a("394f")},"9c88":function(e,t,a){"use strict";a("c69d")},b20f:function(e,t,a){e.exports={blue:"#324157","light-blue":"#3A71A8",sideBarWidth:"30%",sideBarHeight:"85%"}},b74b:function(e,t,a){"use strict";a("0eb6")},c184:function(e,t,a){"use strict";a("f36ae")},c69d:function(e,t,a){},f36ae:function(e,t,a){}});
//# sourceMappingURL=app.42c42170.js.map